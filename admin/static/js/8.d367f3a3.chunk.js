(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[8],{618:function(e,t,a){"use strict";a.r(t);var n=a(73),r=a.n(n),c=a(123),u=a(24),i=a(0),l=a.n(i),o=a(525),d=a(624),s=a(615),f=a(527),p=a(620),m=a(28),v=a(42);var h=function(e){var t=e.article,a=e.del,n=e.auth,r=[{title:"\u6587\u7ae0\u6807\u9898",dataIndex:"title"},{title:"\u4f5c\u8005",dataIndex:"author"},{title:"\u9605\u8bfb\u91cf",dataIndex:"viewCount"},{title:"\u72b6\u6001",dataIndex:"draft",filters:[{text:"\u6587\u7ae0",value:0},{text:"\u8349\u7a3f",value:1}],onFilter:function(e,t){return t.draft==e},render:function(e,t){return["\u6587\u7ae0","\u8349\u7a3f"][e]}},{title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",render:function(e,t){return n?l.a.createElement("span",null,l.a.createElement(m.b,{to:{pathname:"/article/addArticle",query:{data:t}}},"\u7f16\u8f91")," ",l.a.createElement(s.a,{type:"vertical"}),l.a.createElement(f.a,{title:"\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",okText:"\u786e\u5b9a",onConfirm:function(){a(t)},cancelText:"\u53d6\u6d88"},l.a.createElement("a",{href:"#"},"\u5220\u9664"))):l.a.createElement("span",null,"\u60a8\u6682\u65e0\u64cd\u4f5c\u6743\u9650")}}];return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{columns:r,dataSource:t,expandedRowRender:function(e){return l.a.createElement("p",{style:{margin:0}},e.introduction)},rowKey:function(e){return e.id}}))};t.default=function(e){var t=e.props,a=Object(i.useState)([]),n=Object(u.a)(a,2),s=n[0],f=n[1],p=Object(i.useState)(),m=Object(u.a)(p,2),x=m[0],E=m[1];Object(i.useEffect)((function(){b()}),[]);var b=function(){var e=Object(c.a)(r.a.mark((function e(){var a,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={getContent:!0},t.location.query&&(a.userId=t.location.query.userId?t.location.query.userId:""),e.next=4,Object(v.a)({method:"get",url:"/admin/article/list",params:a});case 4:n=e.sent,c=n.data,f(c.data.info),E(c.auth);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.delete("/admin/article/delOne/".concat(t._id));case 2:200==e.sent.data.code&&(o.a.success("\u5220\u9664\u6210\u529f!"),b());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(d.a,{title:"\u6587\u7ae0\u7ba1\u7406"}),l.a.createElement(h,{article:s,del:y,auth:x}))}}}]);
//# sourceMappingURL=8.d367f3a3.chunk.js.map