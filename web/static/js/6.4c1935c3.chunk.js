(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[6],{609:function(e,t){},611:function(e,t,a){},616:function(e,t,a){"use strict";a.r(t);var n=a(73),r=a.n(n),c=a(123),l=a(24),o=a(0),i=a.n(o),u=a(549),s=a.n(u),m=a(597),d=a.n(m),p=(a(610),a(611),a(535)),f=a.n(p),b=a(522),h=a(532),g=a(525),O=a(71),j=a(36),v=a(34),E=a(621),y=a(42),k=b.a.Option,S=h.a.TextArea;s.a.setOptions({renderer:s.a.Renderer(),gfm:!0,pedantic:!1,sanitize:!1,tables:!0,breaks:!1,smartLists:!0,smartypants:!1});var w={textAlign:"center",marginBottom:10};t.default=function(e){var t=Object(o.useState)(""),a=Object(l.a)(t,2),n=a[0],u=a[1],m=Object(o.useState)(""),p=Object(l.a)(m,2),x=p[0],C=p[1],_=Object(o.useState)(""),B=Object(l.a)(_,2),z=B[0],N=B[1],L=Object(o.useState)(0),T=Object(l.a)(L,2),q=T[0],A=T[1],H=Object(o.useState)(""),I=Object(l.a)(H,2),J=I[0],M=I[1],P=Object(o.useState)("\u9884\u89c8\u5185\u5bb9"),R=Object(l.a)(P,2),V=R[0],D=R[1],F=Object(o.useState)(""),G=Object(l.a)(F,2),K=G[0],Q=G[1],U=Object(o.useState)("\u7b49\u5f85\u7f16\u8f91"),W=Object(l.a)(U,2),X=W[0],Y=W[1],Z=Object(o.useState)(f()()),$=Object(l.a)(Z,2),ee=$[0],te=$[1],ae=Object(o.useState)(),ne=Object(l.a)(ae,2),re=(ne[0],ne[1],Object(o.useState)([])),ce=Object(l.a)(re,2),le=(ce[0],ce[1],Object(o.useState)()),oe=Object(l.a)(le,2),ie=oe[0],ue=oe[1],se=Object(o.useState)([]),me=Object(l.a)(se,2),de=me[0],pe=me[1],fe=Object(o.useState)(),be=Object(l.a)(fe,2),he=be[0],ge=be[1],Oe=Object(o.useState)([]),je=Object(l.a)(Oe,2),ve=je[0],Ee=je[1],ye=Object(o.useState)(0),ke=Object(l.a)(ye,2),Se=ke[0],we=ke[1],xe=function(e){M(e);var t=s()(e);D(t)},Ce=function(e){Q(e.target.value);var t=s()(e.target.value);Y(t)},_e=function(){var t=Object(c.a)(r.a.mark((function t(a){var c,l,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return g.a.error("\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a!"),t.abrupt("return");case 3:if(x){t.next=6;break}return g.a.error("\u4f5c\u8005\u4e0d\u80fd\u4e3a\u7a7a!"),t.abrupt("return");case 6:if(J){t.next=9;break}return g.a.error("\u6587\u7ae0\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a!"),t.abrupt("return");case 9:if(ie){t.next=12;break}return g.a.error("\u6587\u7ae0\u7c7b\u522b\u4e0d\u80fd\u4e3a\u7a7a!"),t.abrupt("return");case 12:return c={title:n,author:x,keyword:z,articleContent:J,introduction:K,addTime:ee||f()(),category:ie,origin:Se,draft:a,tags:he},l="/admin/article/add",q&&(c._id=q,l="/admin/article/edit"),t.next=17,Object(y.a)({method:"post",data:c,url:l});case 17:1===(o=t.sent).data.data.status?(g.a.success(q?"\u4fee\u6539\u6210\u529f!":"\u6dfb\u52a0\u6210\u529f!"),e.history.push("/article/articleList")):g.a.error(o.data.data.info);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function Be(){return(Be=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/admin/category/get").then((function(e){var t=e.data;0==t.code&&pe(t.data)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(){return(ze=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/admin/tag/get").then((function(e){var t=e.data;0==t.code&&Ee(t.data)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.useEffect)((function(){!function(){if(e.location.query){var t=e.location.query.data;u(t.title),C(t.author),A(t._id),N(t.keyword),we(t.origin);var a=t.category.map((function(e){return e._id})),n=t.tags.map((function(e){return e._id}));ue(a),ge(n),Ce({target:{value:t.introduction}}),xe(t.articleContent),console.log(e)}}(),function(){Be.apply(this,arguments)}(),function(){ze.apply(this,arguments)}()}),[]),i.a.createElement("div",null,i.a.createElement(O.a,{gutter:5,type:"flex",justify:"space-between"},i.a.createElement(j.a,{span:18},i.a.createElement(h.a,{style:w,addonBefore:"\u6807\u9898",size:"large",placeholder:"\u6807\u9898",name:"title",value:n,onChange:function(e){u(e.target.value)}}),i.a.createElement(h.a,{style:w,addonBefore:"\u4f5c\u8005",size:"large",placeholder:"\u4f5c\u8005",name:"author",value:x,onChange:function(e){C(e.target.value)}}),i.a.createElement(h.a,{style:w,addonBefore:"\u5173\u952e\u5b57",size:"large",placeholder:"\u5173\u952e\u5b57",name:"keyword",value:z,maxLength:200,onChange:function(e){N(e.target.value)}}),i.a.createElement(O.a,{gutter:10},i.a.createElement(j.a,{span:12},i.a.createElement(d.a,{value:J,className:"markdown-content",onChange:xe,placeholder:"\u6587\u7ae0\u5185\u5bb9"})),i.a.createElement(j.a,{span:12},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:V},className:"show-html"})))),i.a.createElement(j.a,{span:6},i.a.createElement(O.a,null,i.a.createElement(j.a,{span:24,className:"article-button"},i.a.createElement(v.a,{size:"large",onClick:function(){_e(1)}},"\u6682\u5b58\u6587\u7ae0"),"\xa0",i.a.createElement(v.a,{type:"primary",size:"large",onClick:function(){_e(0)}},"\u53d1\u5e03\u6587\u7ae0"),i.a.createElement("br",null)),i.a.createElement(j.a,{span:24},i.a.createElement(S,{className:"article-introduction",rows:4,placeholder:"\u6587\u7ae0\u7b80\u4ecb",value:K,onChange:Ce,onPressEnter:Ce}),i.a.createElement("div",{className:"introduce-html",dangerouslySetInnerHTML:{__html:"\u6587\u7ae0\u7b80\u4ecb\uff1a"+X}})),i.a.createElement(j.a,{span:24},i.a.createElement("div",{className:"date-select"},i.a.createElement(E.a,{defaultValue:ee,allowClear:!1,placeholder:"\u53d1\u5e03\u65e5\u671f",style:{width:"100%",marginBottom:10},onChange:function(e){te(e)}}))),i.a.createElement(j.a,{span:24},i.a.createElement(b.a,{style:{width:"100%",flexShrink:1,marginBottom:"10px"},placeholder:"\u9009\u62e9\u6587\u7ae0\u6765\u6e90",value:Se,onChange:function(e){we(e)}},i.a.createElement(b.a.Option,{value:0},"\u539f\u521b"),i.a.createElement(b.a.Option,{value:1},"\u8f6c\u8f7d"),i.a.createElement(b.a.Option,{value:2},"\u6df7\u5408")),i.a.createElement(b.a,{value:ie,onChange:ue,mode:"multiple",placeholder:"\u6587\u7ae0\u5206\u7c7b",style:{width:"100%",flexShrink:1,marginBottom:"10px"}},de.map((function(e){return i.a.createElement(k,{value:e._id,key:e.id},e.name)}))),i.a.createElement(b.a,{value:he,onChange:ge,mode:"multiple",placeholder:"\u6807\u7b7e",style:{width:"100%",flexShrink:1}},ve.map((function(e){return i.a.createElement(k,{value:e._id,key:e.id},e.name)}))))))))}}}]);
//# sourceMappingURL=6.4c1935c3.chunk.js.map